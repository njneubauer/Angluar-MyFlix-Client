<app-navbar></app-navbar>
<div class="container">
    <div id="card-container">
        <h1 style="margin-top: 50px; color: grey;">
            {{ emptyMovieListMsg1 }}
            <mat-icon>{{ favoriteIcon }}</mat-icon>
            {{ emptyMovieListMsg2 }}
        </h1>
        <mat-card *ngFor="let movie of movies;">
            <mat-card-header>
            <mat-card-title>{{ movie.title }}</mat-card-title>
                <mat-card-subtitle>Directed by:</mat-card-subtitle>
                <mat-card-subtitle>{{ (movie.directorInfo.length > 1) ? movie.directorInfo[0].name + ' & ' + movie.directorInfo[1].name : movie.directorInfo[0].name }}</mat-card-subtitle>
            </mat-card-header>
            <div class="img-container">
                <img width="100%" [src]="sanitizeResource(movie)"/>
            </div>
            <mat-card-actions>
                <button
                    mat-raised-button
                    color="primary"
                    (click)="
                    openGenreDialog(
                        movie.genreNames
                    )"
                >
                    Genre
                </button>
                <button
                    mat-raised-button
                    color="primary"
                    (click)="openDirectorDialog(
                        movie.directorInfo
                    )"
                >
                    Director
                </button>
                <button
                    mat-raised-button
                    color="primary"
                    (click)="openSynopsisDialog( 
                        movie.title,
                        movie.plot,
                        movie.year
                    )"
                >
                    Synopsis
                </button>
                <button 
                    mat-icon-button
                    (click)="toggleFavorite(movie)">
                    <mat-icon *ngIf="!isFavorite(movie._id)">favorite_border</mat-icon>
                    <mat-icon *ngIf="isFavorite(movie._id)">favorite</mat-icon>
                </button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>